<!doctype html><html lang=pt-br><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Polibot | BEAM Mignon</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Um robô para testes"><meta name=generator content="Hugo 0.105.0-DEV"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="Polibot"><meta property="og:description" content="Um robô para testes"><meta property="og:type" content="article"><meta property="og:url" content="https://beam-mignon.netlify.app/posts/mignon-8/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-08-24T18:00:50+02:00"><meta property="article:modified_time" content="2021-05-02T20:44:34-03:00"><meta itemprop=name content="Polibot"><meta itemprop=description content="Um robô para testes"><meta itemprop=datePublished content="2019-08-24T18:00:50+02:00"><meta itemprop=dateModified content="2021-05-02T20:44:34-03:00"><meta itemprop=wordCount content="1019"><meta itemprop=keywords content="projeto,testes,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Polibot"><meta name=twitter:description content="Um robô para testes"></head><body class="ma0 avenir bg-near-white"><header class="cover bg-top" style=background-image:url(https://beam-mignon.netlify.app/images/featured/20190823_131050-2-2.jpg)><div class=bg-black-60><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">BEAM Mignon</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/contact/ title="Contato page">Contato</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/posts/ title="Posts page">Posts</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/reference/ title="Referencias page">Referencias</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="Sobre page">Sobre</a></li></ul><div class=ananke-socials><a href=https://twitter.com/joaohf target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://github.com/joaohf/ target=_blank class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel=noopener aria-label="follow on GitHub——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://www.linkedin.com/in/jo%c3%a3o-henrique-freitas target=_blank class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://beam-mignon.netlify.app/feed.xml target=_blank class="rss ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="RSS link" rel=noopener aria-label="follow on RSS——Opens in a new window"><span class=icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"><h1 class="f2 f1-l fw2 white-90 mb0 lh-title">Polibot</h1><h2 class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">Um robô para testes</h2></div></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"><a href="https://twitter.com/share?url=https://beam-mignon.netlify.app/posts/mignon-8/&text=Polibot" class="ananke-social-link twitter no-underline" aria-label="share on Twitter"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://beam-mignon.netlify.app/posts/mignon-8/&title=Polibot" class="ananke-social-link linkedin no-underline" aria-label="share on LinkedIn"><span class=icon><svg style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div><h1 class="f1 athelas mt3 mb1">Polibot</h1><time class="f6 mv4 dib tracked" datetime=2019-08-24T18:00:50+02:00>agosto 24, 2019</time>
<span class="f6 mv4 dib tracked">- 5 minutes read</span>
<span class="f6 mv4 dib tracked">- 1019 words</span></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p><code>polibot</code> é um pequeno projeto demonstrando como testar um equipamento fictício utilizando Erlang e o framework <code>common_test</code>.</p><p>Durante este post, vamos exercitar um cenário e construir uma solução para testes sistêmicos.</p><p>O código do projeto foi disponibilizado aqui: <a href=https://github.com/joaohf/polibot>polibot</a></p><h1 id=geometric-box-system>Geometric Box System</h1><ol><li><p>O nome do equipamento é <em>Geometric Box System</em> (GBS) e possui três principais tipos de hardwares, onde cada hardware é composto por uma placa processadora e alguns devices para realizar determinadas operações. Todos os hardwares utilizam sistema operacional Linux e podem ser acessados normalmente utilizando conexão SSH. Os tipos de hardware são:</p></li><li><p><em>Square Board</em> (SB), é o principal hardware da solução e faz o controle de todos os outros hardwares</p></li><li><p><em>Circle Board</em> (CB), apenas um hardware deste tipo por equipamento. A principal função é sincronia de tempo</p></li><li><p><em>Triangle Board</em> (TB), cada equipamento pode possuir um ou mais hardwares deste tipo e é onde o processamento ocorre.</p></li><li><p>Cada tipo de hardware possue 4 LEDs nos quais podemos configurar a cor e intensidade</p></li></ol><p>O objetivo é criar uma infraestrutura no qual possa realizar uma bateria de testes utilizando o cenário e o equipamento acima. E é desejado que a solução possa:</p><ul><li>Executar comandos em qualquer hardware</li><li>Obter um relatório final para o testes executados</li><li>Mudar a configuração de acesso deve ser uma operação trivial</li><li>Desejável que todas as operações possam ser realizadas via SSH</li></ul><p>O cenário acima é fictício e para a criar um ambiente simulado iremos utilizar containers docker conectados em uma rede interna. Assim, podemos conectar e executar os comandos utilizando conexões SSH.</p><h1 id=mas-qual-é-o-objetivo-mesmo>Mas qual é o objetivo mesmo?</h1><p>A ideia é representar um conjunto de SUTs (System Under Test) usando processos Erlang. Desta forma, podemos enviar mensagens para o processo executar determinada operação e a cada resposta checamos o resultado.</p><p>Este conceito lembra algo sobre <a href=https://en.wikipedia.org/wiki/Digital_twin>Digital Twin</a> mas aplicado para testar condições em sistemas externos. Um processo representa o estado atual que estamos testando.</p><p>Neste exercício vamos ver os seguintes tópicos:</p><ul><li>como criar os testes utilizando o framework <em>common_test</em></li><li>implementar módulos auxiliares para ajudar durante os testes</li><li>explorar os relatórios do <em>common_test</em></li></ul><p>Será que vamos conseguir testar alguma coisa?</p><h1 id=construção-da-solução>Construção da solução</h1><p>Por falta de imaginação os casos de testes são simples demais, mas a intenção é mostrar como tudo poderia funcionar em um projeto real.</p><h2 id=plano-de-testes>Plano de testes</h2><p>Vamos dividir os testes em um <em>test suite</em> possuindo um conjunto de casos de teste e dividido em grupos:</p><ul><li><em>test/gbs_SUITE.erl</em><ul><li>bringup<ul><li>conectar e desconectar utilizando protocolo SSH</li></ul></li><li>board_init<ul><li>inicializar board</li><li>finalizar board</li></ul></li><li>leds: testes dos leds de cada board<ul><li>enviar comando para ascender e apagar led</li><li>enviar comando para ascender e apagar led com um range de luminosidade</li></ul></li></ul></li></ul><h2 id=docker-docker-compose-hosts>docker, docker-compose, hosts</h2><p>Para simular o ambiente vamos utilizar <code>docker-compose</code> para criar um conjunto de hosts em uma rede interna. O importante aqui é que cada host tenha um serviço SSH habilitado para receber conexões sem solicitar senha.</p><p>A implementação do docker-compose pode ser vista aqui: <a href=https://github.com/joaohf/polibot/blob/master/docker/docker-compose.yml>docker-compose.yml</a> e é bastante simples.</p><p>O importante é que todos os hosts estejam na mesma rede e acessíveis utilizando nomes. Exemplo: square0, square1, circle0, triangle0.</p><p>Um outro detalhe é que vamos rodar os testes dentro de um container docker para poder acessar a rede criada pelo docker-compose.</p><p>Para criar o ambiente fazemos:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make up</span></span></code></pre></div><p>E para remover os containers:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make down</span></span></code></pre></div><p>Durante o desenvolvimento vamos deixar um terminal aberto com o seguinte comando para iniciar o docker-compose e conectar um container com uma imagem Erlang na rede criada pelo docker-compose:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make shell</span></span></code></pre></div><p>Para esta solução funcionar, precisamos criar chaves ssh para que o processo de autenticação ocorra sem a necessidade de usuário e senha. Para criar um par de chaves públicas e privadas fazemos:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make ssh-keygen</span></span></code></pre></div><h2 id=obter-um-relatório-final-para-o-testes-executados>Obter um relatório final para o testes executados</h2><p>Dentro do <em>make shell</em>, executamos o seguinte comando para invocar o common_test:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rebar3 ct --spec test/gbs.spec</span></span></code></pre></div><p>Usamos um comando do <code>rebar3</code> para chamar o common_test. A opção <code>--spec</code> serve para passarmos configurações adicionais para o framework. Como por exemplo:</p><ul><li>arquivo contendo as configurações de ssh, <em>test/sshconfig.cfg</em></li><li>arquivo contendo as configurações de comandos usados durante o teste, <em>test/gbs.cfg</em></li></ul><p>Mais detalhes dos argumentos e funcionalidades em <a href=https://www.rebar3.org/docs/commands#section-ct>rebar3 ct</a> e <a href=http://erlang.org/doc/apps/common_test/run_test_chapter.html>Running Tests and Analyzing Results</a>.</p><p>A cada execução dos testes um relatório é gerado onde podemos acompanhar os resultados. Eu gosto bastante dos relatórios pois são simples e com alguns detalhes importantes como tempo de execução e configuração do ambiente.</p><figure class="center bg-light-gray tc"><img class="center pt1" style=max-width:100%;width:auto;height:auto src=/posts/mignon-8/polibot_results_1_hu8ebee343c00e623213db007f79f4949a_27491_600x480_fit_box_3.png width=600 height=250><figcaption><small><p>Resultados 1</p></small></figcaption></figure><figure class="center bg-light-gray tc"><img class="center pt1" style=max-width:100%;width:auto;height:auto src=/posts/mignon-8/polibot_results_2_huba20b80badfc24e30c14062cc80bc213_56249_600x480_fit_box_3.png width=400 height=480><figcaption><small><p>Resultados 2</p></small></figcaption></figure><h2 id=mudar-as-configuração-dos-testes-deve-ser-trivial>Mudar as configuração dos testes deve ser trivial</h2><p>Caso seja necessário mudar as configurações de acesso e também os comandos deve ser uma operação trivial sem a necessidade de alterar código. As alterações devem ser feitas nos arquivos de configuração:</p><ul><li><em>test/sshconfig.cfg</em></li><li><em>test/gbs.cfg</em></li></ul><p>As configurações utilizam <em>Erlang Terms</em> e são simples arquivos textos. A ideia é que a partir dos arquivos os testes possam ser configurados facilmente.</p><h2 id=desejável-que-todas-as-operações-possam-ser-realizadas-via-ssh>Desejável que todas as operações possam ser realizadas via SSH</h2><p>O módulos <em>src/board.erl</em> exporta algumas funções para conexão e envio de comandos usando trocas de mensagens entre o <em>test case</em> e o módulo board. As mensagens são processadas e enviadas para o host utilizando um cliente SSH (<a href=http://erlang.org/doc/man/ct_ssh.html>ct_ssh</a>).</p><p>Uma necessidade deste projeto é que não queremos utilizar nenhuma ferramenta extra do host. E também queremos total controle da conexão SSH, inclusive verificando o <em>know_hosts</em>, fingerprints e chaves privdas ssh. Para isso implementamos uma callback do módulo <a href=http://erlang.org/doc/apps/ssh/index.html>ssh</a> no qual possibilita o controle destas operações. Veja a implementação no arquivo <em>src/board_ssh_key_cb.erl</em>.</p><p>Imagine em um produto real onde podemos ter o controle das operações feitas por SSH. Com certeza economizando tempo e criando versatilidade.</p><h1 id=conclusão>Conclusão</h1><p>O código fonte está disponível aqui: <a href=https://github.com/joaohf/polibot>https://github.com/joaohf/polibot</a>.</p><p>Não é complicado utilizar o framework common_test para criar testes sistêmicos. É uma outra abordagem de como realizar testes e as questões precisam ser elaboradas de forma a pensar como um usuário da solução.</p><p>Existem outros clientes para diversos tipos de protocolos tais como: ftp, netconf, rpc, snmp, telnet. E também a possibilidade de implementar um novo cliente usando os hooks do common_test. Isso é bastante útil pois durante os testes, geralmente, não estamos interessados no meio de comunicação entre dois serviços. Exemplo: verificar se determinado arquivo está presente no host remoto.</p><ul class=pa0><li class="list di"><a href=/tags/projeto/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">projeto</a></li><li class="list di"><a href=/tags/testes/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">testes</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">O que há neste posts</p><nav id=TableOfContents><ul><li><a href=#plano-de-testes>Plano de testes</a></li><li><a href=#docker-docker-compose-hosts>docker, docker-compose, hosts</a></li><li><a href=#obter-um-relatório-final-para-o-testes-executados>Obter um relatório final para o testes executados</a></li><li><a href=#mudar-as-configuração-dos-testes-deve-ser-trivial>Mudar as configuração dos testes deve ser trivial</a></li><li><a href=#desejável-que-todas-as-operações-possam-ser-realizadas-via-ssh>Desejável que todas as operações possam ser realizadas via SSH</a></li></ul></nav></div><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Relacionado</p><ul class="pa0 list"><li class=mb2><a href=/posts/mignon-5/>Vamos testar: exunit</a></li><li class=mb2><a href=/posts/mignon-11/>Elixir: mocks, stubs</a></li><li class=mb2><a href=/posts/mignon-9/>Vamos testar: lux</a></li><li class=mb2><a href=/posts/mignon-4/>Vamos testar: common_test</a></li><li class=mb2><a href=/posts/mignon-3/>Vamos testar: eunit</a></li></ul></div></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://beam-mignon.netlify.app/>&copy; https://creativecommons.org/licenses/by/4.0/ 2022</a><div><div class=ananke-socials><a href=https://twitter.com/joaohf target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://github.com/joaohf/ target=_blank class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel=noopener aria-label="follow on GitHub——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://www.linkedin.com/in/jo%c3%a3o-henrique-freitas target=_blank class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://beam-mignon.netlify.app/feed.xml target=_blank class="rss ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="RSS link" rel=noopener aria-label="follow on RSS——Opens in a new window"><span class=icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></footer></body></html>